Я описал частную реализацию, а в варианте решения подробно расписано зачем и почему это закрыто, а это открыто.