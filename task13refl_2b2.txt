Ничего не понял - решение с непонятными конструкциями.